import{r as U,w as L,A as Z,a2 as ye,c as A,j as J,C as xe,o as ve,h as N,a1 as ae,g as G,Y as we,Z as be,k as Y,s as ne,aa as Me,as as Ce,aw as pe,ax as Se,i as le,a5 as Fe,ab as Ve,ad as qe,ae as te,af as oe,ag as H,an as W,am as T,ao as _e,aj as re,f as D,al as se,d as ue}from"./index.ea7527d2.js";import{u as Ae,h as Re,a as Ee,i as Be,c as Pe,b as Oe,g as he,j as ie,k as Te,d as je,e as Ie,m as Ne}from"./use-quasar.596e4154.js";import{u as ze}from"./vue-i18n.runtime.esm-bundler.ebbe35e8.js";import{api as ce}from"./axios.ce2e196a.js";const de={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},X={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ke=Object.keys(X);ke.forEach(e=>{X[e].regex=new RegExp(X[e].pattern)});const Qe=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ke.join("")+"])|(.)","g"),fe=/[.*+?^${}()|[\]\\]/g,S=String.fromCharCode(1),$e={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function De(e,m,h,c){let u,f,k,F;const C=U(null),i=U(b());function q(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}L(()=>e.type+e.autogrow,g),L(()=>e.mask,a=>{if(a!==void 0)p(i.value,!0);else{const n=V(i.value);g(),e.modelValue!==n&&m("update:modelValue",n)}}),L(()=>e.fillMask+e.reverseFillMask,()=>{C.value===!0&&p(i.value,!0)}),L(()=>e.unmaskedValue,()=>{C.value===!0&&p(i.value)});function b(){if(g(),C.value===!0){const a=R(V(e.modelValue));return e.fillMask!==!1?P(a):a}return e.modelValue}function O(a){if(a<u.length)return u.slice(-a);let n="",o=u;const r=o.indexOf(S);if(r>-1){for(let s=a-o.length;s>0;s--)n+=S;o=o.slice(0,r)+n+o.slice(r)}return o}function g(){if(C.value=e.mask!==void 0&&e.mask.length>0&&q(),C.value===!1){F=void 0,u="",f="";return}const a=de[e.mask]===void 0?e.mask:de[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",o=n.replace(fe,"\\$&"),r=[],s=[],l=[];let y=e.reverseFillMask===!0,d="",x="";a.replace(Qe,(E,t,w,I,$)=>{if(I!==void 0){const B=X[I];l.push(B),x=B.negate,y===!0&&(s.push("(?:"+x+"+)?("+B.pattern+"+)?(?:"+x+"+)?("+B.pattern+"+)?"),y=!1),s.push("(?:"+x+"+)?("+B.pattern+")?")}else if(w!==void 0)d="\\"+(w==="\\"?"":w),l.push(w),r.push("([^"+d+"]+)?"+d+"?");else{const B=t!==void 0?t:$;d=B==="\\"?"\\\\\\\\":B.replace(fe,"\\\\$&"),l.push(B),r.push("([^"+d+"]+)?"+d+"?")}});const Q=new RegExp("^"+r.join("")+"("+(d===""?".":"[^"+d+"]")+"+)?$"),K=s.length-1,v=s.map((E,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+o+"*"+E):t===K?new RegExp("^"+E+"("+(x===""?".":x)+"+)?"+(e.reverseFillMask===!0?"$":o+"*")):new RegExp("^"+E));k=l,F=E=>{const t=Q.exec(E);t!==null&&(E=t.slice(1).join(""));const w=[],I=v.length;for(let $=0,B=E;$<I;$++){const ee=v[$].exec(B);if(ee===null)break;B=B.slice(ee.shift().length),w.push(...ee)}return w.length>0?w.join(""):E},u=l.map(E=>typeof E=="string"?E:S).join(""),f=u.split(S).join(n)}function p(a,n,o){const r=c.value,s=r.selectionEnd,l=r.value.length-s,y=V(a);n===!0&&g();const d=R(y),x=e.fillMask!==!1?P(d):d,Q=i.value!==x;r.value!==x&&(r.value=x),Q===!0&&(i.value=x),document.activeElement===r&&Z(()=>{if(x===f){const v=e.reverseFillMask===!0?f.length:0;r.setSelectionRange(v,v,"forward");return}if(o==="insertFromPaste"&&e.reverseFillMask!==!0){const v=s-1;_.right(r,v,v);return}if(["deleteContentBackward","deleteContentForward"].indexOf(o)>-1){const v=e.reverseFillMask===!0?s===0?x.length>d.length?1:0:Math.max(0,x.length-(x===f?0:Math.min(d.length,l)+1))+1:s;r.setSelectionRange(v,v,"forward");return}if(e.reverseFillMask===!0)if(Q===!0){const v=Math.max(0,x.length-(x===f?0:Math.min(d.length,l+1)));v===1&&s===1?r.setSelectionRange(v,v,"forward"):_.rightReverse(r,v,v)}else{const v=x.length-l;r.setSelectionRange(v,v,"backward")}else if(Q===!0){const v=Math.max(0,u.indexOf(S),Math.min(d.length,s)-1);_.right(r,v,v)}else{const v=s-1;_.right(r,v,v)}});const K=e.unmaskedValue===!0?V(x):x;String(e.modelValue)!==K&&h(K,!0)}function z(a,n,o){const r=R(V(a.value));n=Math.max(0,u.indexOf(S),Math.min(r.length,n)),a.setSelectionRange(n,o,"forward")}const _={left(a,n,o,r){const s=u.slice(n-1).indexOf(S)===-1;let l=Math.max(0,n-1);for(;l>=0;l--)if(u[l]===S){n=l,s===!0&&n++;break}if(l<0&&u[n]!==void 0&&u[n]!==S)return _.right(a,0,0);n>=0&&a.setSelectionRange(n,r===!0?o:n,"backward")},right(a,n,o,r){const s=a.value.length;let l=Math.min(s,o+1);for(;l<=s;l++)if(u[l]===S){o=l;break}else u[l-1]===S&&(o=l);if(l>s&&u[o-1]!==void 0&&u[o-1]!==S)return _.left(a,s,s);a.setSelectionRange(r?n:o,o,"forward")},leftReverse(a,n,o,r){const s=O(a.value.length);let l=Math.max(0,n-1);for(;l>=0;l--)if(s[l-1]===S){n=l;break}else if(s[l]===S&&(n=l,l===0))break;if(l<0&&s[n]!==void 0&&s[n]!==S)return _.rightReverse(a,0,0);n>=0&&a.setSelectionRange(n,r===!0?o:n,"backward")},rightReverse(a,n,o,r){const s=a.value.length,l=O(s),y=l.slice(0,o+1).indexOf(S)===-1;let d=Math.min(s,o+1);for(;d<=s;d++)if(l[d-1]===S){o=d,o>0&&y===!0&&o--;break}if(d>s&&l[o-1]!==void 0&&l[o-1]!==S)return _.leftReverse(a,s,s);a.setSelectionRange(r===!0?n:o,o,"forward")}};function j(a){if(ye(a)===!0)return;const n=c.value,o=n.selectionStart,r=n.selectionEnd;if(a.keyCode===37||a.keyCode===39){const s=_[(a.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];a.preventDefault(),s(n,o,r,a.shiftKey)}else a.keyCode===8&&e.reverseFillMask!==!0&&o===r?_.left(n,o,r,!0):a.keyCode===46&&e.reverseFillMask===!0&&o===r&&_.rightReverse(n,o,r,!0)}function R(a){if(a==null||a==="")return"";if(e.reverseFillMask===!0)return M(a);const n=k;let o=0,r="";for(let s=0;s<n.length;s++){const l=a[o],y=n[s];if(typeof y=="string")r+=y,l===y&&o++;else if(l!==void 0&&y.regex.test(l))r+=y.transform!==void 0?y.transform(l):l,o++;else return r}return r}function M(a){const n=k,o=u.indexOf(S);let r=a.length-1,s="";for(let l=n.length-1;l>=0&&r>-1;l--){const y=n[l];let d=a[r];if(typeof y=="string")s=y+s,d===y&&r--;else if(d!==void 0&&y.regex.test(d))do s=(y.transform!==void 0?y.transform(d):d)+s,r--,d=a[r];while(o===l&&d!==void 0&&y.regex.test(d));else return s}return s}function V(a){return typeof a!="string"||F===void 0?typeof a=="number"?F(""+a):a:F(a)}function P(a){return f.length-a.length<=0?a:e.reverseFillMask===!0&&a.length>0?f.slice(0,-a.length)+a:a+f.slice(a.length)}return{innerValue:i,hasMask:C,moveCursorForPaste:z,updateMaskValue:p,onMaskedKeydown:j}}function Le(e,m){function h(){const c=e.modelValue;try{const u="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(c)===c&&("length"in c?Array.from(c):[c]).forEach(f=>{u.items.add(f)}),{files:u.files}}catch{return{files:void 0}}}return m===!0?A(()=>{if(e.type==="file")return h()}):A(h)}var ge=J({name:"QInput",inheritAttrs:!1,props:{...Ae,...$e,...Re,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ee,"paste","change"],setup(e,{emit:m,attrs:h}){const c={};let u=NaN,f,k,F,C;const i=U(null),q=Be(e),{innerValue:b,hasMask:O,moveCursorForPaste:g,updateMaskValue:p,onMaskedKeydown:z}=De(e,m,y,i),_=Le(e,!0),j=A(()=>ie(b.value)),R=Te(l),M=Pe(),V=A(()=>e.type==="textarea"||e.autogrow===!0),P=A(()=>V.value===!0||["text","search","url","tel","password"].includes(e.type)),a=A(()=>{const t={...M.splitAttrs.listeners.value,onInput:l,onPaste:s,onChange:x,onBlur:Q,onFocus:ae};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=R,O.value===!0&&(t.onKeydown=z),e.autogrow===!0&&(t.onAnimationend=d),t}),n=A(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:q.value,...M.splitAttrs.attributes.value,id:M.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return V.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});L(()=>e.type,()=>{i.value&&(i.value.value=e.modelValue)}),L(()=>e.modelValue,t=>{if(O.value===!0){if(k===!0&&(k=!1,String(t)===u))return;p(t)}else b.value!==t&&(b.value=t,e.type==="number"&&c.hasOwnProperty("value")===!0&&(f===!0?f=!1:delete c.value));e.autogrow===!0&&Z(d)}),L(()=>e.autogrow,t=>{t===!0?Z(d):i.value!==null&&h.rows>0&&(i.value.style.height="auto")}),L(()=>e.dense,()=>{e.autogrow===!0&&Z(d)});function o(){he(()=>{const t=document.activeElement;i.value!==null&&i.value!==t&&(t===null||t.id!==M.targetUid.value)&&i.value.focus({preventScroll:!0})})}function r(){i.value!==null&&i.value.select()}function s(t){if(O.value===!0&&e.reverseFillMask!==!0){const w=t.target;g(w,w.selectionStart,w.selectionEnd)}m("paste",t)}function l(t){if(!t||!t.target)return;if(e.type==="file"){m("update:modelValue",t.target.files);return}const w=t.target.value;if(t.target.qComposing===!0){c.value=w;return}if(O.value===!0)p(w,!1,t.inputType);else if(y(w),P.value===!0&&t.target===document.activeElement){const{selectionStart:I,selectionEnd:$}=t.target;I!==void 0&&$!==void 0&&Z(()=>{t.target===document.activeElement&&w.indexOf(t.target.value)===0&&t.target.setSelectionRange(I,$)})}e.autogrow===!0&&d()}function y(t,w){C=()=>{e.type!=="number"&&c.hasOwnProperty("value")===!0&&delete c.value,e.modelValue!==t&&u!==t&&(u=t,w===!0&&(k=!0),m("update:modelValue",t),Z(()=>{u===t&&(u=NaN)})),C=void 0},e.type==="number"&&(f=!0,c.value=t),e.debounce!==void 0?(clearTimeout(F),c.value=t,F=setTimeout(C,e.debounce)):C()}function d(){const t=i.value;if(t!==null){const w=t.parentNode.style,{overflow:I}=t.style;w.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.overflow="hidden",t.style.height=t.scrollHeight+"px",t.style.overflow=I,w.marginBottom=""}}function x(t){R(t),clearTimeout(F),C!==void 0&&C(),m("change",t.target.value)}function Q(t){t!==void 0&&ae(t),clearTimeout(F),C!==void 0&&C(),f=!1,k=!1,delete c.value,e.type!=="file"&&setTimeout(()=>{i.value!==null&&(i.value.value=b.value!==void 0?b.value:"")})}function K(){return c.hasOwnProperty("value")===!0?c.value:b.value!==void 0?b.value:""}xe(()=>{Q()}),ve(()=>{e.autogrow===!0&&d()}),Object.assign(M,{innerValue:b,fieldClass:A(()=>`q-${V.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:A(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:i,emitValue:y,hasValue:j,floatingLabel:A(()=>j.value===!0||ie(e.displayValue)),getControl:()=>N(V.value===!0?"textarea":"input",{ref:i,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...a.value,...e.type!=="file"?{value:K()}:_.value}),getShadowControl:()=>N("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(V.value===!0?"":" text-no-wrap")},[N("span",{class:"invisible"},K()),N("span",e.shadowText)])});const v=Oe(M),E=G();return Object.assign(E.proxy,{focus:o,select:r,getNativeElement:()=>i.value}),v}}),Ke=J({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:m,emit:h}){const c=G(),u=U(null);let f=0;const k=[];function F(g){const p=[],z=typeof g=="boolean"?g:e.noErrorFocus!==!0,_=++f,j=(R,M)=>{h("validation-"+(R===!0?"success":"error"),M)};for(let R=0;R<k.length;R++){const M=k[R],V=M.validate();if(typeof V.then=="function")p.push(V.then(P=>({valid:P,comp:M}),P=>({valid:!1,comp:M,err:P})));else if(V!==!0){if(e.greedy===!1)return j(!1,M),z===!0&&typeof M.focus=="function"&&M.focus(),Promise.resolve(!1);p.push({valid:!1,comp:M})}}return p.length===0?(j(!0),Promise.resolve(!0)):Promise.all(p).then(R=>{const M=R.filter(n=>n.valid!==!0);if(M.length===0)return _===f&&j(!0),!0;const{valid:V,comp:P,err:a}=M[0];return _===f&&(a!==void 0&&console.error(a),j(!1,P),z===!0&&V!==!0&&typeof P.focus=="function"&&P.focus()),!1})}function C(){f++,k.forEach(g=>{typeof g.resetValidation=="function"&&g.resetValidation()})}function i(g){g!==void 0&&ne(g);const p=f+1;F().then(z=>{p===f&&z===!0&&(e.onSubmit!==void 0?h("submit",g):g!==void 0&&g.target!==void 0&&typeof g.target.submit=="function"&&g.target.submit())})}function q(g){g!==void 0&&ne(g),h("reset"),Z(()=>{C(),e.autofocus===!0&&e.noResetFocus!==!0&&b()})}function b(){he(()=>{if(u.value===null)return;const g=u.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(u.value.querySelectorAll("[tabindex]"),p=>p.tabIndex>-1);g!=null&&g.focus({preventScroll:!0})})}Me(Ce,{bindComponent(g){k.push(g)},unbindComponent(g){const p=k.indexOf(g);p>-1&&k.splice(p,1)}});let O=!1;return we(()=>{O=!0}),be(()=>{O===!0&&e.autofocus===!0&&b()}),ve(()=>{e.autofocus===!0&&b()}),Object.assign(c.proxy,{validate:F,resetValidation:C,submit:i,reset:q,focus:b,getValidationComponents:()=>k}),()=>N("form",{class:"q-form",ref:u,onSubmit:i,onReset:q},Y(m.default))}}),me=J({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:m}){const h=A(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>N(e.tag,{class:h.value},Y(m.default))}}),Ze=J({name:"QCardActions",props:{...pe,vertical:Boolean},setup(e,{slots:m}){const h=Se(e),c=A(()=>`q-card__actions ${h.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>N("div",{class:c.value},Y(m.default))}}),Ue=J({name:"QCard",props:{...je,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:m}){const h=G(),c=Ie(e,h.proxy.$q),u=A(()=>"q-card"+(c.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>N(e.tag,{class:u.value},Y(m.default))}}),He=J({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:m}){const{proxy:{$q:h}}=G(),c=le(Fe);le(Ve,()=>{console.error("QPage needs to be child of QPageContainer")});const u=A(()=>{const k=(c.header.space===!0?c.header.size:0)+(c.footer.space===!0?c.footer.size:0);if(typeof e.styleFn=="function"){const F=c.isContainer.value===!0?c.containerHeight.value:h.screen.height;return e.styleFn(k,F)}return{minHeight:c.isContainer.value===!0?c.containerHeight.value-k+"px":h.screen.height===0?k!==0?`calc(100vh - ${k}px)`:"100vh":h.screen.height-k+"px"}}),f=A(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>N("main",{class:f.value,style:u.value},Y(m.default))}});const We={class:"column"},Je=W("div",{class:"row"},[W("h5",{class:"text-h5 text-white q-my-md"},"BoCo")],-1),Ye={class:"row"},Xe={key:0},Ge={class:"text-grey-6"},lt=qe({__name:"IndexPage",setup(e){const{t:m}=ze(),h=Ne();let c=U(null),u=U(null),f=U(null);const k=A(()=>f.value?{firstname:f.value.first_name,lastname:f.value.last_name}:null);function F(){ce.post("/login",{email:c.value,password:u.value}).then(i=>{h.notify({color:"positive",position:"top",message:m("Login success"),icon:"announcement"}),f.value=i.data.user,console.log(f)}).catch(i=>{let q=m("Login failed: ");i.response?q=i.response.data.error:i.request?q="No response for Request: "+JSON.stringify(i.request):q="Error in setting up the request: "+JSON.stringify(i.message),h.notify({color:"negative",position:"top",message:q,icon:"report_problem"})})}function C(){ce.post("/logout",{}).then(i=>{h.notify({color:"positive",position:"top",message:i.data.message,icon:"announcement"}),f.value=null}).catch(i=>{h.notify({color:"negative",position:"top",message:m("Logout failed due to bad request: ")+i.toString(),icon:"report_problem"})})}return(i,q)=>(te(),oe(He,{class:"row items-center justify-evenly"},{default:H(()=>[W("div",We,[Je,W("div",Ye,[T(f)?(te(),_e("div",Xe,[W("p",null,re(i.$t("welcomeLogged")+T(k).firstname+" "+T(k).lastname),1),D(se,{label:T(m)("Logout"),onClick:C},null,8,["label"])])):(te(),oe(Ue,{key:1,square:"",bordered:"",class:"q-pa-lg shadow-1"},{default:H(()=>[D(me,null,{default:H(()=>[D(Ke,{class:"q-gutter-md"},{default:H(()=>[D(ge,{square:"",filled:"",clearable:"",modelValue:T(c),"onUpdate:modelValue":q[0]||(q[0]=b=>ue(c)?c.value=b:c=b),type:"email",label:T(m)("email")},null,8,["modelValue","label"]),D(ge,{square:"",filled:"",clearable:"",modelValue:T(u),"onUpdate:modelValue":q[1]||(q[1]=b=>ue(u)?u.value=b:u=b),type:"password",label:T(m)("password")},null,8,["modelValue","label"])]),_:1})]),_:1}),D(Ze,{class:"q-px-md"},{default:H(()=>[D(se,{unelevated:"",color:"primary",icon:"record-voice-over",size:"lg",class:"full-width",label:T(m)("Login"),onClick:F},null,8,["label"])]),_:1}),D(me,{class:"text-center q-pa-none"},{default:H(()=>[W("p",Ge,re(T(m)("Not registered? Create an Account")),1)]),_:1})]),_:1}))])])]),_:1}))}});export{lt as default};
